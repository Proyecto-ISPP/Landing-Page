---
import Layout from "../layouts/Layout.astro";
import "../styles/precios.css";
import team from "../assets/support/collage.png";
import "../styles/global.css";
import blue from "../assets/blue.png";
import gold from "../assets/gold.png";
---

<Layout title="Precios | Fisio Find">
  <section class="pricing-section">
    <h1 class="large-title" style="color: #012c6d;">
      Escoge el mejor plan seg√∫n tus necesidades
    </h1>

    <div class="pricing-cards mt-16">
      <div class="card fisio-blue">
        <div class="flex justify-center items-center mb-4">
          <img
            src={blue.src}
            alt="Fisio Blue"
            class="w-9 h-9 mb-1 object-contain"
          />
          <h3 class="text-lg">Fisio Blue</h3>
        </div>
        <p class="price">17,99‚Ç¨ <span>/ mes</span></p>
        <ul>
          <li>üìπ Videoconsultas con todas las herramientas</li>
          <li>üîé Seguimiento del paciente</li>
          <li>üí¨ Chat integrado</li>
          <li>üé• Subir y compartir v√≠deos (hasta 15)</li>
          <li>‚öôÔ∏è Soporte t√©cnico limitado</li>
        </ul>
      </div>

      <div class="card fisio-gold">
        <div class="popular-badge">¬°M√°s popular!</div>
        <div class="flex justify-center items-center mb-4 mt-2">
          <img
            src={gold.src}
            alt="Fisio Gold"
            class="w-5 h-5 mr-2 mb-1 object-contain"
          />
          <h3 class="text-lg">Fisio Gold</h3>
        </div>
        <p class="price">24,99‚Ç¨ <span>/ mes</span></p>
        <ul>
          <li>ü§ù Todas las ventajas de Fisio Blue</li>
          <li>üî• Mayor alcance</li>
          <li>‚úÖ Tick de verificaci√≥n</li>
          <li>üé• Subir y compartir v√≠deos (hasta 30)</li>
          <li>üí° Soporte t√©cnico personalizado</li>
        </ul>
      </div>
    </div>

    <div class="compare-button-container">
      <a
        class="px-8 py-3 text-base font-medium rounded-lg text-white bg-cyan-600 hover:bg-cyan-700 transform hover:scale-105 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 compare-button"
        href="javascript:void(0);"
      >
        Comparar planes
      </a>
    </div>
  </section>

  <!-- NUEVO DIV DE SOPORTE -->
  <div
    class="bg-[#E9FCFD] py-10 px-4 max-w-screen-lg justify-self-center mt-11 mb-12"
  >
    <!-- Contenedor con ancho m√°ximo y centrado -->
    <div
      class="max-w-6xl mx-auto flex flex-col md:flex-row items-center md:items-start gap-8"
    >
      <!-- Imagen (arriba en m√≥viles, izquierda en pantallas medianas/grandes) -->
      <div class="md:w-1/2 flex justify-center md:justify-end">
        <img
          src={team.src}
          alt="Equipo de soporte"
          class="max-w-sm w-full h-auto object-cover rounded"
        />
      </div>

      <!-- Texto (debajo de la imagen en m√≥viles, a la derecha en pantallas grandes) -->
      <div class="md:w-1/2 text-center md:text-left">
        <h2
          class="text-3xl font-semibold mb-4 text-left"
          style="color: #012c6d;"
        >
          Descubre todo el potencial con el respaldo de un equipo excepcional
        </h2>
        <p class="text-gray-800 mb-6 leading-relaxed">
          No est√°s solo en este viaje. Nuestro equipo de soporte est√° listo para
          ayudarte en cada paso, desde la configuraci√≥n inicial hasta el
          aprovechamiento de todas las funciones. Si surge cualquier duda,
          estamos aqu√≠ para solucionarla.
        </p>
        <a
          href="/#contacto"
          class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded shadow transition-colors duration-200"
        >
          Cont√°ctanos
        </a>
      </div>
    </div>
  </div>
  <section id="tabla-comparativa">
    <h1 class="large-title" style="color: #012c6d;">
      Compara las caracter√≠sticas de los planes
    </h1>

    <table class="full-colored-table" id="tabla-comparativa">
      <colgroup>
        <col class="col-caracteristicas" />
        <col class="col-fisio-blue" />
        <col class="col-fisio-gold" />
      </colgroup>

      <thead>
        <tr>
          <th class="th-caracteristicas"></th>
          <th class="th-fisio-blue">
            Fisio Blue
            <div class="small-price">17,99‚Ç¨/mes</div>
          </th>
          <th class="th-fisio-gold">
            Fisio Gold
            <div class="small-price">24,99‚Ç¨/mes</div>
          </th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <th><strong>Comunicaci√≥n con pacientes</strong></th>
          <td></td>
          <td></td>
        </tr>
        <tr class="sub-item">
          <th>Chat integrado</th>
          <td>‚úî</td>
          <td>‚úî</td>
        </tr>
        <tr class="sub-item">
          <th>Subir y compartir v√≠deos</th>
          <td>15/mes</td>
          <td>30/mes</td>
        </tr>

        <tr>
          <th><strong>Videoconsulta y seguimiento</strong></th>
          <td></td>
          <td></td>
        </tr>
        <tr class="sub-item">
          <th>Videoconsultas avanzadas</th>
          <td>‚úî</td>
          <td>‚úî</td>
        </tr>
        <tr class="sub-item">
          <th>Seguimiento del paciente</th>
          <td>‚úî</td>
          <td>‚úî + Mayor alcance</td>
        </tr>

        <tr>
          <th><strong>Soporte t√©cnico</strong></th>
          <td></td>
          <td></td>
        </tr>
        <tr class="sub-item">
          <th>Tipo de soporte</th>
          <td>Limitado</td>
          <td>Personalizado</td>
        </tr>
        <tr class="sub-item">
          <th>Tiempo de respuesta</th>
          <td>En horario laboral</td>
          <td>Prioritario</td>
        </tr>

        <tr>
          <th><strong>Visibilidad y ventajas</strong></th>
          <td></td>
          <td></td>
        </tr>
        <tr class="sub-item">
          <th>Tick de verificaci√≥n</th>
          <td>‚úñ</td>
          <td>‚úî</td>
        </tr>
        <tr class="sub-item">
          <th>Mayor alcance</th>
          <td>‚úñ</td>
          <td>‚úî</td>
        </tr>
      </tbody>
    </table>
  </section>

  <script is:inline>
    document.addEventListener("DOMContentLoaded", function () {
      const compareButton = document.querySelector(".compare-button");
      const targetSection = document.querySelector("#tabla-comparativa");

      if (compareButton && targetSection) {
        compareButton.addEventListener("click", function (event) {
          event.preventDefault(); // Evita el salto inmediato
          smoothScroll(targetSection);
        });
      }

      function smoothScroll(target) {
        const targetPosition =
          target.getBoundingClientRect().top + window.scrollY;
        const startPosition = window.scrollY;
        const distance = targetPosition - startPosition;
        const duration = 800; // Duraci√≥n del scroll en ms
        let start = null;

        function animation(currentTime) {
          if (!start) start = currentTime;
          const timeElapsed = currentTime - start;
          const run = ease(timeElapsed, startPosition, distance, duration);
          window.scrollTo(0, run);
          if (timeElapsed < duration) requestAnimationFrame(animation);
        }

        function ease(t, b, c, d) {
          t /= d / 2;
          if (t < 1) return (c / 2) * t * t + b;
          t--;
          return (-c / 2) * (t * (t - 2) - 1) + b;
        }

        requestAnimationFrame(animation);
      }
    });
  </script>
</Layout>
